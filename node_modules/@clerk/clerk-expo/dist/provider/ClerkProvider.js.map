{"version":3,"sources":["../../src/provider/ClerkProvider.tsx"],"sourcesContent":["import '../polyfills';\n\nimport { ClerkProvider as ClerkReactProvider } from '@clerk/clerk-react';\nimport * as WebBrowser from 'expo-web-browser';\n\nimport type { TokenCache } from '../cache/types';\nimport { isNative, isWeb } from '../utils/runtime';\nimport { getClerkInstance } from './singleton';\n\nexport type ClerkProviderProps = React.ComponentProps<typeof ClerkReactProvider> & {\n  tokenCache?: TokenCache;\n};\n\nconst SDK_METADATA = {\n  name: PACKAGE_NAME,\n  version: PACKAGE_VERSION,\n};\n\nexport function ClerkProvider(props: ClerkProviderProps): JSX.Element {\n  const { children, tokenCache, publishableKey, ...rest } = props;\n  const pk = publishableKey || process.env.EXPO_PUBLIC_CLERK_PUBLISHABLE_KEY || process.env.CLERK_PUBLISHABLE_KEY || '';\n\n  if (isWeb()) {\n    // This is needed in order for useOAuth to work correctly on web.\n    WebBrowser.maybeCompleteAuthSession();\n  }\n\n  return (\n    <ClerkReactProvider\n      // Force reset the state when the provided key changes, this ensures that the provider does not retain stale state.\n      // See JS-598 for additional context.\n      key={pk}\n      {...rest}\n      publishableKey={pk}\n      sdkMetadata={SDK_METADATA}\n      Clerk={isNative() ? getClerkInstance({ publishableKey: pk, tokenCache }) : null}\n      standardBrowser={!isNative()}\n    >\n      {children}\n    </ClerkReactProvider>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BI;AA5BJ,uBAAO;AAEP,yBAAoD;AACpD,iBAA4B;AAG5B,qBAAgC;AAChC,uBAAiC;AAMjC,MAAM,eAAe;AAAA,EACnB,MAAM;AAAA,EACN,SAAS;AACX;AAEO,SAAS,cAAc,OAAwC;AACpE,QAAM,EAAE,UAAU,YAAY,gBAAgB,GAAG,KAAK,IAAI;AAC1D,QAAM,KAAK,kBAAkB,QAAQ,IAAI,qCAAqC,QAAQ,IAAI,yBAAyB;AAEnH,UAAI,sBAAM,GAAG;AAEX,eAAW,yBAAyB;AAAA,EACtC;AAEA,SACE;AAAA,IAAC,mBAAAA;AAAA,IAAA;AAAA,MAIE,GAAG;AAAA,MACJ,gBAAgB;AAAA,MAChB,aAAa;AAAA,MACb,WAAO,yBAAS,QAAI,mCAAiB,EAAE,gBAAgB,IAAI,WAAW,CAAC,IAAI;AAAA,MAC3E,iBAAiB,KAAC,yBAAS;AAAA,MAE1B;AAAA;AAAA,IAPI;AAAA,EAQP;AAEJ;","names":["ClerkReactProvider"]}